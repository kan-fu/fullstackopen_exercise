{"version":3,"sources":["components/Filter.jsx","components/PersonForm.jsx","components/Persons.jsx","services/persons.js","components/Notification.jsx","App.js","index.js"],"names":["Filter","filterName","setFilterName","action","htmlFor","type","id","value","onChange","e","target","PersonForm","handleSubmit","newName","setNewName","newNumber","setNewNumber","onSubmit","Persons","persons","handleClick","personsToShow","filter","person","name","toLowerCase","includes","map","number","onClick","baseUrl","personService","getAll","axios","get","then","response","data","createPerson","newPerson","post","updatePerson","put","deletePerson","delete","Notification","message","baseStyle","color","background","fontSize","border","padding","marginBottom","style","className","App","useState","setPersons","setMessage","showMessage","setTimeout","useEffect","initPersons","preventDefault","personExist","find","window","confirm","returnedPerson","catch","error","console","log","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.00e20e2c.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Filter = ({ filterName, setFilterName }) => {\n  return (\n    <>\n      <form action=''>\n        <label htmlFor='nameFilter'>filter shown with </label>\n        <input\n          type='text'\n          id='nameFilter'\n          value={filterName}\n          onChange={(e) => setFilterName(e.target.value)}\n        />\n      </form>\n    </>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst PersonForm = ({\n  handleSubmit,\n  newName,\n  setNewName,\n  newNumber,\n  setNewNumber,\n}) => {\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <label htmlFor='form-name'>name: </label>\n        <input\n          id='form-name'\n          value={newName}\n          onChange={(e) => setNewName(e.target.value)}\n          type='text'\n        />\n        <label htmlFor='form-number'>number: </label>\n        <input\n          id='form-number'\n          value={newNumber}\n          onChange={(e) => setNewNumber(e.target.value)}\n          type='text'\n        />\n        <button type='submit'>add</button>\n      </form>\n    </>\n  );\n};\n\nexport default PersonForm;\n","import React from \"react\";\n\nconst Persons = ({ persons, filterName, handleClick }) => {\n  const personsToShow = persons.filter((person) =>\n    person.name.toLowerCase().includes(filterName.toLowerCase())\n  );\n\n  return (\n    <>\n      {personsToShow.map((person) => (\n        <p key={person.id}>\n          {person.name} {person.number}\n          <button onClick={() => handleClick(person.name, person.id)}>delete</button>\n        </p>\n      ))}\n    </>\n  );\n};\n\nexport default Persons;\n","import axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  return axios.get(baseUrl).then((response) => response.data);\n};\n\nconst createPerson = (newPerson) => {\n  return axios.post(baseUrl, newPerson).then((response) => response.data);\n};\n\nconst updatePerson = (id, newPerson) => {\n  return axios\n    .put(`${baseUrl}/${id}`, newPerson)\n    .then((response) => response.data);\n};\n\nconst deletePerson = (id) => {\n  return axios.delete(`${baseUrl}/${id}`);\n};\n\nconst personService = {\n  getAll,\n  createPerson,\n  updatePerson,\n  deletePerson,\n};\nexport default personService;\n","import React from \"react\";\n\nconst Notification = ({message:{ message, type }}) => {\n  const baseStyle = {\n    color: \"red\",\n    background: \"lightgrey\",\n    fontSize: 20,\n    border: \"5px solid\",\n    padding: 10,\n    marginBottom: 10,\n  };\n  if (type === \"success\") {\n    baseStyle.color = \"green\";\n  }\n  if (message === null) {\n    return null;\n  }\n  return (\n    <div style={baseStyle} className='message'>\n      {message}\n    </div>\n  );\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport personService from \"./services/persons\";\nimport Notification from \"./components/Notification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filterName, setFilterName] = useState(\"\");\n\n  const [message, setMessage] = useState({ message: null, type: null });\n\n  const showMessage = (message, type) => {\n    setMessage({\n      message,\n      type,\n    });\n    setTimeout(() => {\n      setMessage({ message: null, type: null });\n    }, 3000);\n  };\n  const personChange = (e) => {\n    e.preventDefault();\n    const personExist = persons.find((person) => person.name === newName);\n    if (personExist) {\n      const message = `${newName} is already added to phonebook, replace the old number with a new one?`;\n      if (window.confirm(message)) {\n        const newPerson = {\n          name: newName,\n          number: newNumber,\n        };\n        personService\n          .updatePerson(personExist.id, newPerson)\n          .then((returnedPerson) => {\n            setPersons(\n              persons.map((person) =>\n                person.id === returnedPerson.id ? returnedPerson : person\n              )\n            );\n            setNewName(\"\");\n            setNewNumber(\"\");\n            showMessage(`Updated ${returnedPerson.name}`, \"success\");\n          })\n          .catch((error) => {\n            console.log(error);\n            showMessage(error.response.data.error,\"warning\")\n            // showMessage(\n              // `Information of ${newName} has already been removed from server`,\n              // \"warning\"\n            // );\n            // setPersons(\n              // persons.filter((person) => person.id !== personExist.id)\n            // );\n          });\n      }\n    } else {\n      const newPerson = {\n        name: newName,\n        number: newNumber,\n      };\n      personService.createPerson(newPerson).then((returnedPerson) => {\n        setPersons([...persons, returnedPerson]);\n        setNewName(\"\");\n        setNewNumber(\"\");\n        showMessage(`Added ${returnedPerson.name}`, \"success\");\n      }).catch(error=>{\n        showMessage(error.response.data.error, \"warning\")\n      });\n    }\n  };\n\n  const deletePerson = (name, id) => {\n    if (window.confirm(`Delete ${name}?`)) {\n      personService.deletePerson(id).then(() => {\n        setPersons(persons.filter((person) => person.id !== id));\n        showMessage(`Deleted ${name}`, \"success\");\n      });\n    }\n  };\n\n  useEffect(() => {\n    personService.getAll().then((initPersons) => setPersons(initPersons));\n  }, []);\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n\n      <Filter filterName={filterName} setFilterName={setFilterName} />\n\n      <h3>Add a new</h3>\n\n      <PersonForm\n        newName={newName}\n        newNumber={newNumber}\n        setNewName={setNewName}\n        setNewNumber={setNewNumber}\n        handleSubmit={personChange}\n      />\n\n      <h3>Numbers</h3>\n\n      <Persons\n        persons={persons}\n        filterName={filterName}\n        handleClick={deletePerson}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}